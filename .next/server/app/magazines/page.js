(()=>{var e={};e.id=840,e.ids=[840],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},3613:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>l}),t(819),t(9815),t(5859);var s=t(2052),r=t(4966),i=t(2218),n=t.n(i),o=t(528),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(a,c);let l=["",{children:["magazines",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,819)),"/Users/choi/Desktop/supabase-vibecoding/src/app/magazines/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,8768))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,9815)),"/Users/choi/Desktop/supabase-vibecoding/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5859,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,8768))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/choi/Desktop/supabase-vibecoding/src/app/magazines/page.tsx"],m="/magazines/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/magazines/page",pathname:"/magazines",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4340:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,6064,23)),Promise.resolve().then(t.t.bind(t,5324,23)),Promise.resolve().then(t.t.bind(t,8330,23)),Promise.resolve().then(t.t.bind(t,1393,23)),Promise.resolve().then(t.t.bind(t,5635,23)),Promise.resolve().then(t.t.bind(t,5961,23))},4432:()=>{},5124:(e,a,t)=>{Promise.resolve().then(t.bind(t,735))},6963:(e,a,t)=>{"use strict";var s=t(2300);t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},735:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var s=t(5909),r=t(6963),i=t(7529);let n=(0,i.Z)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),o=(0,i.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),c=(0,i.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var l=t(6665),d=t(2504);let m=e=>{try{let a=new URL(e).pathname.match(/\/storage\/v1\/object\/public\/[^/]+\/(.+)$/);return a?a[1]:null}catch{return e}},u=e=>{if(!e)return null;let a=m(e);if(!a)return e;try{let{data:e}=d.O.storage.from("vibe-coding-storage").getPublicUrl(a),t=new URL(e.publicUrl);return t.searchParams.set("width","323"),t.searchParams.set("resize","contain"),t.toString()}catch(a){return console.error("썸네일 URL 생성 오류:",a),e}},p=()=>{let[e,a]=(0,l.useState)([]),[t,s]=(0,l.useState)(!1),[r,i]=(0,l.useState)(null),n=async()=>{try{s(!0),i(null);let{data:e,error:t}=await d.O.from("magazines").select("id, image_url, category, title, description, tags").limit(10);if(t)throw Error(t.message);let r=(e||[]).map(e=>({...e,image_url:u(e.image_url)}));a(r)}catch(e){i(e instanceof Error?e.message:"조회 중 오류가 발생했습니다."),console.error("매거진 목록 조회 오류:",e)}finally{s(!1)}};return(0,l.useEffect)(()=>{n()},[]),{magazines:e,isLoading:t,error:r,refresh:n}},g=e=>({인공지능:"magazine-category-ai",웹개발:"magazine-category-web",클라우드:"magazine-category-cloud",보안:"magazine-category-security",모바일:"magazine-category-mobile",데이터사이언스:"magazine-category-data",블록체인:"magazine-category-blockchain",DevOps:"magazine-category-devops"})[e]||"magazine-category-default";function h(){let e=(0,r.useRouter)(),{magazines:a,isLoading:t,error:i}=p(),l=a=>{e.push(`/magazines/${a}`)};return(0,s.jsxs)("div",{className:"magazine-container",children:[(0,s.jsxs)("div",{className:"magazine-header",children:[s.jsx("h1",{children:"IT 매거진"}),s.jsx("p",{className:"magazine-subtitle",children:"최신 기술 트렌드와 인사이트를 전합니다"}),(0,s.jsxs)("div",{className:"magazine-header-actions",children:[(0,s.jsxs)("button",{className:"magazine-header-button magazine-header-button-ghost",onClick:()=>e.push("/auth/login"),children:[s.jsx(n,{className:"magazine-button-icon"}),s.jsx("span",{className:"magazine-button-text",children:"로그인"})]}),(0,s.jsxs)("button",{className:"magazine-header-button magazine-header-button-primary",onClick:()=>e.push("/magazines/new"),children:[s.jsx(o,{className:"magazine-button-icon"}),s.jsx("span",{className:"magazine-button-text",children:"글쓰기"})]}),(0,s.jsxs)("button",{className:"magazine-header-button magazine-header-button-payment",onClick:()=>e.push("/payments"),children:[s.jsx(c,{className:"magazine-button-icon"}),s.jsx("span",{className:"magazine-button-text",children:"구독하기"})]})]})]}),t&&s.jsx("div",{className:"magazine-loading",children:s.jsx("p",{children:"데이터를 불러오는 중..."})}),i&&s.jsx("div",{className:"magazine-error",children:(0,s.jsxs)("p",{children:["오류: ",i]})}),!t&&!i&&s.jsx("div",{className:"magazine-grid",children:a.map(e=>(0,s.jsxs)("article",{className:"magazine-card",onClick:()=>l(e.id),style:{cursor:"pointer"},children:[(0,s.jsxs)("div",{className:"magazine-card-image",children:[s.jsx("img",{src:e.image_url??"",alt:e.title}),s.jsx("div",{className:`magazine-card-category ${g(e.category)}`,children:e.category})]}),(0,s.jsxs)("div",{className:"magazine-card-content",children:[s.jsx("h2",{className:"magazine-card-title",children:e.title}),s.jsx("p",{className:"magazine-card-summary",children:e.description}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"magazine-card-tags",children:e.tags.map((e,a)=>(0,s.jsxs)("span",{className:"magazine-tag",children:["#",e]},a))})]})]},e.id))})]})}},2504:(e,a,t)=>{"use strict";t.d(a,{O:()=>s});let s=(0,t(9261).eI)("https://kabeahnuheijxbzxszjk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthYmVhaG51aGVpanhienhzemprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NDE5NzgsImV4cCI6MjA3NzMxNzk3OH0.w1XQa3tI2tWj9r0DB8u7MeuVPi1uaDgoIdF6HcVMWqI")},9815:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,metadata:()=>r});var s=t(142);t(4766);let r={title:"Create Next App",description:"Generated by create next app"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},819:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(6018).createProxy)(String.raw`/Users/choi/Desktop/supabase-vibecoding/src/app/magazines/page.tsx#default`)},8768:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var s=t(171);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4766:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[111,224,171,583],()=>t(3613));module.exports=s})();