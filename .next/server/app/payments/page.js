(()=>{var e={};e.id=74,e.ids=[74],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},7504:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(913),r(9815),r(5859);var a=r(2052),s=r(4966),n=r(2218),i=r.n(n),l=r(528),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["payments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,913)),"/Users/choi/Desktop/supabase-vibecoding/src/app/payments/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,8768))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9815)),"/Users/choi/Desktop/supabase-vibecoding/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5859,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,8768))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/choi/Desktop/supabase-vibecoding/src/app/payments/page.tsx"],p="/payments/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/payments/page",pathname:"/payments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4340:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6064,23)),Promise.resolve().then(r.t.bind(r,5324,23)),Promise.resolve().then(r.t.bind(r,8330,23)),Promise.resolve().then(r.t.bind(r,1393,23)),Promise.resolve().then(r.t.bind(r,5635,23)),Promise.resolve().then(r.t.bind(r,5961,23))},4432:()=>{},8241:(e,t,r)=>{Promise.resolve().then(r.bind(r,8005))},7529:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var a=r(6665);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:d,...p},u)=>(0,a.createElement)("svg",{ref:u,...c,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:l("lucide",n),...!i&&!o(p)&&{"aria-hidden":"true"},...p},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),p=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...n},o)=>(0,a.createElement)(d,{ref:o,iconNode:t,className:l(`lucide-${s(i(e))}`,`lucide-${e}`,r),...n}));return r.displayName=i(e),r}},1070:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(7529).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6963:(e,t,r)=>{"use strict";var a=r(2300);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},8005:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(5909),s=r(1070),n=r(6963);let i=null,l={jsSdkUrl:"https://cdn.portone.io/v2/browser-sdk.js"};Symbol.hasInstance,Symbol.hasInstance,Symbol.hasInstance,Symbol.hasInstance,Symbol.hasInstance,Symbol.hasInstance;Symbol.hasInstance;let o=()=>{let e=(0,n.useRouter)();return{handleSubscribe:async()=>{try{let r,a;let s="store-1759eb80-a1b5-4827-8b1d-7acc8e5910a6",n="channel-key-1105a541-89d8-41b1-bf3d-2c30c480189e";if(!s||!n){alert("포트원 설정이 누락되었습니다. 환경 변수를 확인해주세요.");return}let o=`test_customer_${Date.now()}`;try{var t;r=await (t={storeId:s,channelKey:n,billingKeyMethod:"CARD",issueId:`issue_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,issueName:"IT 매거진 월간 구독",customer:{customerId:o}},(null!=i?i:i=new Promise((e,t)=>{if(window.PortOne)return e(window.PortOne);try{let r=document.querySelector(`script[src="${l.jsSdkUrl}"]`)||function(){let e=document.createElement("script");e.src=l.jsSdkUrl;let t=document.head||document.body;if(!t)throw Error("[PortOne] Expected document.body not to be null");return t.appendChild(e)}();r.addEventListener("load",()=>{if(window.PortOne)return e(window.PortOne);t(Error("[PortOne] Failed to load window.PortOne"))}),r.addEventListener("error",()=>{t(Error("[PortOne] Failed to load window.PortOne"))})}catch(e){return t(e)}})).then(e=>e.requestIssueBillingKey(t)))}catch(e){console.error("빌링키 발급 요청 실패:",e),alert(`빌링키 발급 요청에 실패했습니다: ${e instanceof Error?e.message:"알 수 없는 오류"}`);return}if(!r||r.code||!r.billingKey){alert(`빌링키 발급에 실패했습니다: ${r?.message||"알 수 없는 오류"}`);return}try{a=await fetch("/api/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({billingKey:r.billingKey,orderName:"IT 매거진 월간 구독",amount:9900,customer:{id:o}})})}catch(e){console.error("API 요청 실패:",e),alert(`결제 API 요청에 실패했습니다. 네트워크 연결을 확인해주세요.`);return}if(!a.ok){let e="알 수 없는 오류";try{e=(await a.json()).error||e}catch{e=`서버 오류 (${a.status})`}alert(`결제에 실패했습니다: ${e}`);return}let c=await a.json();if(!c.success){alert(`결제에 실패했습니다: ${c.error||"알 수 없는 오류"}`);return}alert("구독에 성공하였습니다."),e.push("/magazines")}catch(t){console.error("구독 처리 중 오류:",t);let e=t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다.";alert(`구독 처리 중 오류가 발생했습니다: ${e}`)}}}};function c(){let e=(0,n.useRouter)(),{handleSubscribe:t}=o();return(0,a.jsxs)("div",{className:"magazine-form-container magazine-payment-page",children:[(0,a.jsxs)("button",{className:"magazine-detail-back",onClick:()=>{e.push("/magazines")},children:[a.jsx(s.Z,{className:"magazine-detail-back-icon"}),a.jsx("span",{children:"목록으로"})]}),(0,a.jsxs)("div",{className:"magazine-form-header",children:[a.jsx("h1",{children:"IT 매거진 구독"}),a.jsx("p",{className:"magazine-form-subtitle",children:"프리미엄 콘텐츠를 제한 없이 이용하세요"})]}),a.jsx("div",{className:"payment-content",children:(0,a.jsxs)("div",{className:"payment-card",children:[(0,a.jsxs)("div",{className:"payment-card-header",children:[a.jsx("h2",{className:"payment-plan-title",children:"월간 구독"}),a.jsx("p",{className:"payment-plan-description",children:"모든 IT 매거진 콘텐츠에 무제한 접근"})]}),(0,a.jsxs)("div",{className:"payment-card-body",children:[(0,a.jsxs)("div",{className:"payment-price-section",children:[a.jsx("span",{className:"payment-price",children:"9,900원"}),a.jsx("span",{className:"payment-period",children:"/월"})]}),(0,a.jsxs)("div",{className:"payment-features",children:[(0,a.jsxs)("div",{className:"payment-feature-item",children:[a.jsx("svg",{className:"payment-check-icon",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{children:"모든 프리미엄 아티클 열람"})]}),(0,a.jsxs)("div",{className:"payment-feature-item",children:[a.jsx("svg",{className:"payment-check-icon",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{children:"최신 기술 트렌드 리포트"})]}),(0,a.jsxs)("div",{className:"payment-feature-item",children:[a.jsx("svg",{className:"payment-check-icon",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{children:"광고 없는 읽기 환경"})]}),(0,a.jsxs)("div",{className:"payment-feature-item",children:[a.jsx("svg",{className:"payment-check-icon",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{children:"언제든지 구독 취소 가능"})]})]}),a.jsx("button",{className:"payment-subscribe-button",onClick:t,children:"구독하기"})]})]})})]})}},9815:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>s});var a=r(142);r(4766);let s={title:"Create Next App",description:"Generated by create next app"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},913:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(6018).createProxy)(String.raw`/Users/choi/Desktop/supabase-vibecoding/src/app/payments/page.tsx#default`)},8768:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(171);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4766:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[111,224,171],()=>r(7504));module.exports=a})();