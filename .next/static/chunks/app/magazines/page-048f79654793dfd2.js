(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{8213:function(a,e,t){Promise.resolve().then(t.bind(t,5459))},6834:function(a,e,t){"use strict";var s=t(9349);t.o(s,"useRouter")&&t.d(e,{useRouter:function(){return s.useRouter}})},5459:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return z}});var s=t(8947),n=t(6834),i=t(1956);let r=(0,i.Z)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),c=(0,i.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),l=(0,i.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var m=t(3081),o=t(156);let u=a=>{try{let e=new URL(a).pathname.match(/\/storage\/v1\/object\/public\/[^/]+\/(.+)$/);return e?e[1]:null}catch(e){return a}},g=a=>{if(!a)return null;let e=u(a);if(!e)return a;try{let{data:a}=o.O.storage.from("vibe-coding-storage").getPublicUrl(e),t=new URL(a.publicUrl);return t.searchParams.set("width","323"),t.searchParams.set("resize","contain"),t.toString()}catch(e){return console.error("썸네일 URL 생성 오류:",e),a}},d=()=>{let[a,e]=(0,m.useState)([]),[t,s]=(0,m.useState)(!1),[n,i]=(0,m.useState)(null),r=async()=>{try{s(!0),i(null);let{data:a,error:t}=await o.O.from("magazines").select("id, image_url, category, title, description, tags").limit(10);if(t)throw Error(t.message);let n=(a||[]).map(a=>({...a,image_url:g(a.image_url)}));e(n)}catch(a){i(a instanceof Error?a.message:"조회 중 오류가 발생했습니다."),console.error("매거진 목록 조회 오류:",a)}finally{s(!1)}};return(0,m.useEffect)(()=>{r()},[]),{magazines:a,isLoading:t,error:n,refresh:r}},h=a=>({인공지능:"magazine-category-ai",웹개발:"magazine-category-web",클라우드:"magazine-category-cloud",보안:"magazine-category-security",모바일:"magazine-category-mobile",데이터사이언스:"magazine-category-data",블록체인:"magazine-category-blockchain",DevOps:"magazine-category-devops"})[a]||"magazine-category-default";function z(){let a=(0,n.useRouter)(),{magazines:e,isLoading:t,error:i}=d(),m=e=>{a.push("/magazines/".concat(e))};return(0,s.jsxs)("div",{className:"magazine-container",children:[(0,s.jsxs)("div",{className:"magazine-header",children:[(0,s.jsx)("h1",{children:"IT 매거진"}),(0,s.jsx)("p",{className:"magazine-subtitle",children:"최신 기술 트렌드와 인사이트를 전합니다"}),(0,s.jsxs)("div",{className:"magazine-header-actions",children:[(0,s.jsxs)("button",{className:"magazine-header-button magazine-header-button-ghost",onClick:()=>a.push("/auth/login"),children:[(0,s.jsx)(r,{className:"magazine-button-icon"}),(0,s.jsx)("span",{className:"magazine-button-text",children:"로그인"})]}),(0,s.jsxs)("button",{className:"magazine-header-button magazine-header-button-primary",onClick:()=>a.push("/magazines/new"),children:[(0,s.jsx)(c,{className:"magazine-button-icon"}),(0,s.jsx)("span",{className:"magazine-button-text",children:"글쓰기"})]}),(0,s.jsxs)("button",{className:"magazine-header-button magazine-header-button-payment",onClick:()=>a.push("/payments"),children:[(0,s.jsx)(l,{className:"magazine-button-icon"}),(0,s.jsx)("span",{className:"magazine-button-text",children:"구독하기"})]})]})]}),t&&(0,s.jsx)("div",{className:"magazine-loading",children:(0,s.jsx)("p",{children:"데이터를 불러오는 중..."})}),i&&(0,s.jsx)("div",{className:"magazine-error",children:(0,s.jsxs)("p",{children:["오류: ",i]})}),!t&&!i&&(0,s.jsx)("div",{className:"magazine-grid",children:e.map(a=>{var e;return(0,s.jsxs)("article",{className:"magazine-card",onClick:()=>m(a.id),style:{cursor:"pointer"},children:[(0,s.jsxs)("div",{className:"magazine-card-image",children:[(0,s.jsx)("img",{src:null!==(e=a.image_url)&&void 0!==e?e:"",alt:a.title}),(0,s.jsx)("div",{className:"magazine-card-category ".concat(h(a.category)),children:a.category})]}),(0,s.jsxs)("div",{className:"magazine-card-content",children:[(0,s.jsx)("h2",{className:"magazine-card-title",children:a.title}),(0,s.jsx)("p",{className:"magazine-card-summary",children:a.description}),a.tags&&a.tags.length>0&&(0,s.jsx)("div",{className:"magazine-card-tags",children:a.tags.map((a,e)=>(0,s.jsxs)("span",{className:"magazine-tag",children:["#",a]},e))})]})]},a.id)})})]})}},156:function(a,e,t){"use strict";t.d(e,{O:function(){return s}});let s=(0,t(4365).eI)("https://kabeahnuheijxbzxszjk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthYmVhaG51aGVpanhienhzemprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NDE5NzgsImV4cCI6MjA3NzMxNzk3OH0.w1XQa3tI2tWj9r0DB8u7MeuVPi1uaDgoIdF6HcVMWqI")}},function(a){a.O(0,[199,580,996,744],function(){return a(a.s=8213)}),_N_E=a.O()}]);